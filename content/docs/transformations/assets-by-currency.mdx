---
title: Assets by Currency
description: Aggregates asset values by currency over time for reporting and conversion.
---

export const table_name = "assets_by_currency"
export const caption = "Total asset values aggregated by currency and date."

## Purpose

<Callout>
  This model performs **no currency conversion**.  
  Amounts are summed **as-is**, grouping existing asset values by currency and date only.
</Callout>

Provide a **currency-level aggregation of asset values**, collapsing individual assets into total amounts per currency and time period.

This model is designed as a lightweight reporting layer, enabling:
- Currency exposure analysis
- Net worth calculations per currency
- Downstream currency conversion using reporting rates

It removes asset-level granularity while preserving temporal and currency dimensions.

## Business Logic

- Start from [Assets Values](/transformations/assets-values) transformation
- Group asset values by:
  - Date
  - ISO week
  - Currency
- Aggregate asset amounts using `SUM`
- Produce one row per currency per date

## Output Contract
### Definitions

| Column | Description |
|--------|-------------|
| date | Date of the asset snapshot (`YYYY-MM-DD`). |
| weeknum | ISO year-week in `YYYYWW` format, derived from `date` |
| currency | [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html) |
| total_amount | Total asset value for the given currency and date |


### Sample & Implementation

  <RenderTable csvPath={`registry/transformations/models/${table_name}.csv`} caption={caption}>
      <ReadComponents filePath={`registry/transformations/models/${table_name}.sql`}/>
  </RenderTable>

## Dependencies

- Transformations: [Assets Values](/transformations/assets-values)
